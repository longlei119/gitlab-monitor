# Production Environment Variables for GitLab Metrics Backend

# Application
SPRING_PROFILES_ACTIVE=prod
SERVER_PORT=8080

# Database Configuration
DATABASE_URL=jdbc:mysql://mysql:3306/gitlab_metrics?useSSL=true&serverTimezone=UTC&allowPublicKeyRetrieval=true
DATABASE_USERNAME=gitlab_user
DATABASE_PASSWORD=gitlab_password
DATABASE_SSL_MODE=REQUIRED

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0
REDIS_TIMEOUT=2000ms

# RabbitMQ Configuration
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=admin
RABBITMQ_PASSWORD=admin123
RABBITMQ_VIRTUAL_HOST=/

# GitLab Webhook Configuration
GITLAB_WEBHOOK_SECRET=your-production-webhook-secret-change-this
GITLAB_API_TOKEN=your-gitlab-api-token

# SonarQube Configuration
SONARQUBE_URL=http://sonarqube:9000
SONARQUBE_TOKEN=your-sonarqube-token

# JWT Configuration
JWT_SECRET=your-jwt-secret-key-change-this-in-production
JWT_EXPIRATION=86400000

# Encryption Configuration
ENCRYPTION_KEY=your-32-character-encryption-key-change-this

# Logging Configuration
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_COM_GITLAB_METRICS=INFO
LOGGING_FILE_NAME=/app/logs/gitlab-metrics.log

# JVM Configuration
JAVA_OPTS=-Xms512m -Xmx1024m -XX:+UseG1GC -XX:G1HeapRegionSize=16m -XX:+UseStringDeduplication

# Monitoring Configuration
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics,prometheus
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=when_authorized

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# SSL/TLS Configuration
SERVER_SSL_ENABLED=false
SERVER_SSL_KEY_STORE=/app/ssl/keystore.p12
SERVER_SSL_KEY_STORE_PASSWORD=changeit
SERVER_SSL_KEY_STORE_TYPE=PKCS12